<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupremeAmer Coin - Advanced Mining Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #ff6b00;
            --secondary-color: #ffa726;
            --accent-color: #ff3d00;
            --success-color: #4caf50;
            --info-color: #2196f3;
            --warning-color: #ff9800;
            --dark-bg: #121212;
            --darker-bg: #0a0a0a;
            --card-bg-dark: rgba(30, 30, 40, 0.95);
            --card-bg-light: rgba(255, 255, 255, 0.95);
            --text-dark: #ffffff;
            --text-light: #333333;
            --light-bg: #f8f9fa;
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            --glow: 0 0 15px rgba(255, 107, 0, 0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', Arial, sans-serif;
            min-height: 100vh;
            margin: 0;
            background: var(--dark-bg);
            color: var(--text-dark);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            position: relative;
            padding-bottom: 100px;
        }
        
        body.light {
            background: var(--light-bg);
            color: var(--text-light);
        }
        
        /* Header Styles */
        .header {
            width: 100%;
            padding: 20px 0;
            text-align: center;
            background: rgba(18, 18, 18, 0.85);
            font-size: 1.8rem;
            font-weight: 800;
            letter-spacing: 1px;
            position: relative;
            transition: all 0.3s;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-left: 20px;
            padding-right: 20px;
        }
        
        body.light .header {
            background: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .header-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: var(--glow);
        }
        
        /* Profile Dropdown */
        .profile-container {
            position: relative;
        }
        
        .emoji-avatar {
            font-size: 1.8rem;
            background: transparent;
            border: none;
            cursor: pointer;
            outline: none;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .emoji-avatar:hover {
            transform: scale(1.1);
        }
        
        .profile-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 50px;
            background: var(--card-bg-dark);
            min-width: 240px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            z-index: 1001;
            color: var(--text-dark);
            font-size: 0.95rem;
            animation: fadeIn 0.22s;
            text-align: left;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }
        
        body.light .profile-dropdown-content {
            background: var(--card-bg-light);
            color: var(--text-light);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(-10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        .profile-dropdown-content hr {
            border: none;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin: 8px 0;
        }
        
        .profile-dropdown-content .dropdown-item {
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.2s;
            border-radius: 0;
            padding: 12px 20px;
        }
        
        .profile-dropdown-content .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        body.light .profile-dropdown-content .dropdown-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .profile-dropdown-content .dropdown-item i {
            width: 20px;
            text-align: center;
        }
        
        /* Main Container */
        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            padding: 20px;
            gap: 20px;
            flex: 1;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
        }
        
        @media (max-width: 900px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        /* Mining Card */
        .mining-card {
            background: var(--card-bg-dark);
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        body.light .mining-card {
            background: var(--card-bg-light);
        }
        
        .mining-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 107, 0, 0.1) 0%, transparent 70%);
            z-index: -1;
            animation: rotate 60s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Coin Logo */
        #logoContainer {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px auto;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #coinLogo {
            width: 120px !important;
            height: 120px !important;
            border-radius: 50%;
            box-shadow: 0 4px 20px rgba(255, 107, 0, 0.4);
            z-index: 2;
            position: relative;
            border: 3px solid var(--primary-color);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        #coinLogo:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 107, 0, 0.6);
        }
        
        /* Stats Display */
        .mined-coins {
            font-size: 2.5rem;
            margin: 20px 0;
            color: var(--secondary-color);
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .timer {
            font-size: 1.8rem;
            color: var(--accent-color);
            margin-bottom: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            padding: 10px 15px;
            border-radius: 10px;
            background: rgba(255, 61, 0, 0.1);
        }
        
        .timer:hover {
            background: rgba(255, 61, 0, 0.2);
        }
        
        /* Buttons */
        .mine-btn, .withdraw-btn {
            padding: 15px 40px;
            background: var(--gradient);
            color: #111;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 15px rgba(255, 107, 0, 0.4);
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
        }
        
        .mine-btn:hover, .withdraw-btn:hover {
            box-shadow: 0 8px 25px rgba(255, 107, 0, 0.6);
            transform: translateY(-3px);
        }
        
        .mine-btn:active, .withdraw-btn:active {
            transform: translateY(0);
        }
        
        .mine-btn::after, .withdraw-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(45deg);
            transition: all 0.5s;
            pointer-events: none;
        }
        
        .mine-btn:hover::after, .withdraw-btn:hover::after {
            left: 100%;
        }
        
        .withdraw-btn[disabled] {
            opacity: 0.65;
            cursor: not-allowed;
            background: #666;
            box-shadow: none;
        }
        
        .withdraw-btn[disabled]:hover {
            transform: none;
            box-shadow: none;
        }
        
        .upgrade-btn {
            padding: 12px 25px;
            background: linear-gradient(90deg, #ece9e6 0%, var(--primary-color) 100%);
            color: #222;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            box-shadow: 0 2px 10px rgba(255, 185, 0, 0.3);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }
        
        .upgrade-btn:hover {
            background: linear-gradient(90deg, #ffe259, #ffa751);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 185, 0, 0.4);
        }
        
        /* Stats Card */
        .stats-card {
            background: var(--card-bg-dark);
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s;
        }
        
        body.light .stats-card {
            background: var(--card-bg-light);
        }
        
        .stats-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
            font-weight: 700;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        body.light .stat-item {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .stat-item:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.1);
        }
        
        body.light .stat-item:hover {
            background: rgba(0, 0, 0, 0.08);
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary-color);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-dark);
            margin-top: 5px;
            text-align: center;
        }
        
        body.light .stat-label {
            color: var(--text-light);
        }
        
        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 5px;
            transition: width 0.3s;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #333;
            color: #fff;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 2000;
            transform: translateX(200%);
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: var(--success-color);
        }
        
        .notification.error {
            background: var(--accent-color);
        }
        
        .notification i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        /* Status Messages */
        .claim-status, .withdraw-status {
            margin: 10px 0 0 0;
            color: var(--secondary-color);
            font-size: 0.95rem;
            min-height: 20px;
            transition: all 0.3s;
            text-align: center;
        }
        
        .success-message {
            color: var(--success-color);
            font-weight: 600;
        }
        
        .error-message {
            color: var(--accent-color);
            font-weight: 600;
        }
        
        /* Upgrade Modal */
        #upgradeModal {
            display: none;
            position: fixed;
            z-index: 2002;
            left: 0; 
            top: 0; 
            width: 100vw; 
            height: 100vh;
            background: rgba(0,0,0,0.6);
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s;
        }
        
        #upgradeModalContent {
            background: #fff;
            color: #222;
            border-radius: 20px;
            padding: 25px;
            max-width: 450px;
            width: 90vw;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: scale(0.95);
            animation: modalAppear 0.3s forwards;
        }
        
        @keyframes modalAppear {
            to { transform: scale(1); }
        }
        
        #upgradeModalContent .close-btn {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 1.5rem;
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            transition: all 0.2s;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #upgradeModalContent .close-btn:hover {
            background: rgba(0, 0, 0, 0.1);
            transform: rotate(90deg);
        }
        
        .upgrade-plan {
            margin: 20px 0 15px 0;
            padding: 20px 15px;
            border-radius: 15px;
            background: #fffbe6;
            color: #333;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.2);
            transition: all 0.2s;
            border: 1px solid rgba(255, 152, 0, 0.2);
        }
        
        .upgrade-plan:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }
        
        .upgrade-plan .plan-title {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .upgrade-plan .plan-desc {
            font-size: 1rem;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .upgrade-plan .plan-action {
            margin-top: 10px;
        }
        
        /* Floating Footer */
        .floating-footer {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px 25px;
            background: var(--card-bg-dark);
            border-radius: 50px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            z-index: 999;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        body.light .floating-footer {
            background: var(--card-bg-light);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .floating-footer button {
            background: transparent;
            color: var(--primary-color);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            cursor: pointer;
            position: relative;
        }
        
        .floating-footer button:hover {
            background: var(--primary-color);
            color: #fff;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.4);
        }
        
        .floating-footer button.active {
            background: var(--primary-color);
            color: #fff;
        }
        
        .floating-footer button .tooltip {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.2s;
        }
        
        .floating-footer button:hover .tooltip {
            opacity: 1;
            bottom: 65px;
        }
        
        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .bounce {
            animation: bounce 2s infinite;
        }
        
        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 2001;
            animation: confetti-fall 3s linear forwards;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* New Features */
        .network-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--success-color);
            margin-bottom: 10px;
        }
        
        .network-status.offline {
            color: var(--accent-color);
        }
        
        .network-status i {
            font-size: 0.8rem;
        }
        
        .click-bonus {
            position: absolute;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--secondary-color);
            pointer-events: none;
            animation: floatUp 1s forwards;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px);
                opacity: 0;
            }
        }
        
        .achievements {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .achievement {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .achievement i {
            font-size: 1.5rem;
            margin-bottom: 5px;
            color: var(--secondary-color);
        }
        
        .achievement.locked i {
            color: #666;
        }
        
        .achievement.locked {
            opacity: 0.5;
        }
        
        .achievement-name {
            font-size: 0.8rem;
            text-align: center;
        }
        
        .achievement-progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .achievement-progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 2px;
            transition: width 0.3s;
        }
        
        .referral-section {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }
        
        .referral-title {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
            font-weight: 600;
        }
        
        .referral-code {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .referral-input {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-dark);
            font-family: 'Montserrat', sans-serif;
        }
        
        body.light .referral-input {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: var(--text-light);
        }
        
        .copy-btn {
            padding: 10px 15px;
            background: var(--gradient);
            color: #111;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .copy-btn:hover {
            transform: translateY(-2px);
        }
        
        .referral-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        .referral-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .referral-stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--secondary-color);
        }
        
        .referral-stat-label {
            font-size: 0.8rem;
            color: var(--text-dark);
        }
        
        body.light .referral-stat-label {
            color: var(--text-light);
        }
        
        /* Leaderboard */
        .leaderboard-section {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }
        
        .leaderboard-title {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .leaderboard-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .leaderboard-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .leaderboard-item:last-child {
            border-bottom: none;
        }
        
        .leaderboard-rank {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
        }
        
        .leaderboard-user {
            flex: 1;
            margin-left: 10px;
            font-size: 0.9rem;
        }
        
        .leaderboard-value {
            font-weight: 700;
            color: var(--secondary-color);
        }
        
        /* Daily Bonus */
        .daily-bonus-section {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            text-align: center;
        }
        
        .daily-bonus-title {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
            font-weight: 600;
        }
        
        .daily-bonus-days {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .bonus-day {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .bonus-day-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        .bonus-day.active .bonus-day-circle {
            background: var(--gradient);
            color: #111;
        }
        
        .bonus-day.claimed .bonus-day-circle {
            background: var(--success-color);
            color: #fff;
        }
        
        .bonus-day-label {
            font-size: 0.7rem;
        }
        
        .bonus-claim-btn {
            padding: 10px 20px;
            background: var(--gradient);
            color: #111;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
        }
        
        .bonus-claim-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 107, 0, 0.4);
        }
        
        .bonus-claim-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            .header {
                font-size: 1.5rem;
                padding: 15px 0;
            }
            
            .profile-container {
                right: 15px;
            }
            
            .emoji-avatar {
                font-size: 1.5rem;
            }
            
            .profile-dropdown-content {
                min-width: 200px;
                font-size: 0.9rem;
            }
            
            .main-container {
                padding: 15px;
            }
            
            .mining-card, .stats-card {
                padding: 20px;
            }
            
            #logoContainer {
                width: 100px;
                height: 100px;
            }
            
            #coinLogo {
                width: 100px !important;
                height: 100px !important;
            }
            
            .mined-coins {
                font-size: 2rem;
            }
            
            .timer {
                font-size: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .floating-footer {
                padding: 12px 20px;
                gap: 10px;
                bottom: 15px;
            }
            
            .floating-footer button {
                width: 45px;
                height: 45px;
                font-size: 1.2rem;
            }
            
            .achievements {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .daily-bonus-days {
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Notification System -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Notification message</span>
    </div>
    
    <div class="header">
        <div class="header-title">
            <div class="logo">SA</div>
            SUPREMEAMER COIN
        </div>
        <div style="display: flex; align-items: center; gap: 15px;">
            <div class="profile-container">
                <button id="profileDropdownBtn" class="emoji-avatar">
                    👤
                </button>
                <div id="profileDropdownMenu" class="profile-dropdown-content">
                    <div id="dropdownUsername" style="padding:12px 20px; font-weight:600; display:flex; align-items:center; gap:8px;">
                        <span class="emoji-avatar">🧑</span> <span id="username">Loading...</span>
                    </div>
                    <div id="dropdownEmail" style="padding:0 20px 12px 20px; color:var(--secondary-color); font-size:0.9rem; display:flex; align-items:center; gap:8px;">
                        <span class="emoji-avatar">✉️</span> <span id="email">Loading...</span>
                    </div>
                    <hr>
                    <div class="dropdown-item" id="themeToggleBtn">
                        <i class="fas fa-moon"></i>
                        <span>Dark Mode</span>
                    </div>
                    <div class="dropdown-item" id="settingsBtn">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                    <div class="dropdown-item" id="helpBtn">
                        <i class="fas fa-question-circle"></i>
                        <span>Help & Support</span>
                    </div>
                    <hr>
                    <div class="dropdown-item" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="main-container">
        <div class="dashboard">
            <div class="mining-card">
                <div style="font-size:1.8rem; color:var(--secondary-color); margin-bottom:10px; font-weight:700;">Mining Dashboard</div>
                
                <div class="network-status" id="networkStatus">
                    <i class="fas fa-circle"></i>
                    <span>Network Connected</span>
                </div>
                
                <div id="logoContainer">
                    <img id="coinLogo" src="supremeamer_coin.png" alt="SupremeAmer Coin" class="pulse">
                </div>
                
                <div class="mined-coins" id="minedCoins">0 SA</div>
                
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar" id="miningProgress"></div>
                </div>
                
                <div class="timer" id="timer">07:00:00</div>
                
                <button class="mine-btn" id="mineBtn">
                    <i class="fas fa-hammer"></i>
                    <span id="mineBtnText">Start Mining</span>
                </button>
                
                <button class="upgrade-btn" id="showUpgradeBtn">
                    <i class="fas fa-bolt"></i>Upgrade Mining Speed
                </button>
                
                <button class="withdraw-btn" id="withdrawBtn">
                    <i class="fas fa-wallet"></i>Withdraw SA Coins
                </button>
                
                <div class="claim-status" id="claimStatus"></div>
                <div class="withdraw-status" id="withdrawStatus"></div>
            </div>
            
            <div class="stats-card">
                <div class="stats-title">Mining Statistics</div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="miningSpeed">0.0002</div>
                        <div class="stat-label">SA/Sec</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="sessionEarnings">0</div>
                        <div class="stat-label">Session SA</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalMined">0</div>
                        <div class="stat-label">Total Mined</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="miningTime">0:00</div>
                        <div class="stat-label">Mining Time</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                    <div style="font-weight: 600; margin-bottom: 10px; color: var(--secondary-color);">Withdrawal Information</div>
                    <div style="font-size: 0.9rem; line-height: 1.5;">
                        <div>Minimum Withdrawal: <strong>50,000 SA</strong></div>
                        <div>Withdrawal Days: <strong>9th & 13th</strong> of each month</div>
                        <div>Withdrawal Fee: <strong>6%</strong></div>
                    </div>
                </div>
                
                <div class="achievements">
                    <div class="achievement" id="achievement1">
                        <i class="fas fa-medal"></i>
                        <div class="achievement-name">First Miner</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="achievement" id="achievement2">
                        <i class="fas fa-trophy"></i>
                        <div class="achievement-name">SA Collector</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 30%"></div>
                        </div>
                    </div>
                    <div class="achievement locked" id="achievement3">
                        <i class="fas fa-crown"></i>
                        <div class="achievement-name">Upgrade Master</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="referral-section">
                    <div class="referral-title">Referral Program</div>
                    <div class="referral-code">
                        <input type="text" class="referral-input" id="referralCode" value="SA-REF-12345" readonly>
                        <button class="copy-btn" id="copyReferralBtn">Copy</button>
                    </div>
                    <div class="referral-stats">
                        <div class="referral-stat">
                            <div class="referral-stat-value" id="referralCount">5</div>
                            <div class="referral-stat-label">Referrals</div>
                        </div>
                        <div class="referral-stat">
                            <div class="referral-stat-value" id="referralEarnings">1,250</div>
                            <div class="referral-stat-label">SA Earned</div>
                        </div>
                        <div class="referral-stat">
                            <div class="referral-stat-value" id="referralBonus">10%</div>
                            <div class="referral-stat-label">Bonus</div>
                        </div>
                    </div>
                </div>
                
                <div class="leaderboard-section">
                    <div class="leaderboard-title">
                        <span>Top Miners</span>
                        <i class="fas fa-trophy" style="color: var(--secondary-color);"></i>
                    </div>
                    <div class="leaderboard-list" id="leaderboardList">
                        <!-- Leaderboard items will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="daily-bonus-section">
                    <div class="daily-bonus-title">Daily Bonus</div>
                    <div class="daily-bonus-days" id="dailyBonusDays">
                        <!-- Daily bonus days will be populated by JavaScript -->
                    </div>
                    <button class="bonus-claim-btn" id="bonusClaimBtn" disabled>Claim Daily Bonus</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="floating-footer">
        <button onclick="window.location.href='index.html'" title="Home">
            <i class="fas fa-home"></i>
            <span class="tooltip">Home</span>
        </button>
        <button onclick="window.location.href='Task.html'" title="Tasks">
            <i class="fas fa-tasks"></i>
            <span class="tooltip">Tasks</span>
        </button>
        <button onclick="window.location.href='wallet.html'" title="Wallet">
            <i class="fas fa-wallet"></i>
            <span class="tooltip">Wallet</span>
        </button>
        <button onclick="window.location.href='dapp.html'" title="DApp">
            <i class="fas fa-gamepad"></i>
            <span class="tooltip">DApp</span>
        </button>
        <button id="supportBtn" title="Support">
            <i class="fas fa-headset"></i>
            <span class="tooltip">Support</span>
        </button>
    </div>
    
    <!-- Upgrade Modal -->
    <div id="upgradeModal">
        <div id="upgradeModalContent">
            <button class="close-btn" onclick="hideUpgradeModal()">&times;</button>
            <h3 style="color:var(--primary-color);margin-top:0; font-weight:700;">Upgrade Mining Speed</h3>
            
            <div class="upgrade-plan">
                <div class="plan-title">🚀 0.05 SA/sec</div>
                <div class="plan-desc">Duration: <b>360 days</b> <br> Fee: <b>0.002 BNB</b> <br> Claim every 30 days</div>
                <div class="plan-action">
                    <button class="upgrade-btn" style="padding:10px 20px;" onclick="upgradeMining('0.05')">
                        <i class="fas fa-bolt" style="margin-right: 5px;"></i>Upgrade
                    </button>
                </div>
            </div>
            
            <div class="upgrade-plan">
                <div class="plan-title">🔥 0.1 SA/sec</div>
                <div class="plan-desc">Duration: <b>360 days</b> <br> Fee: <b>0.009 BNB</b> <br> Claim every 30 days</div>
                <div class="plan-action">
                    <button class="upgrade-btn" style="padding:10px 20px;" onclick="upgradeMining('0.1')">
                        <i class="fas fa-fire" style="margin-right: 5px;"></i>Upgrade
                    </button>
                </div>
            </div>
            
            <div style="font-size:0.95rem;color:#666;margin-top:15px; line-height:1.5;">
               After upgrade, mining speed increases for 360 days. You can claim mined rewards every 30 days. Mining continues even if you delay claim, but only for 360 days. After that, mining returns to 0.0002 SA/sec.
            </div>
        </div>
    </div>
    
    <!-- Confetti Container -->
    <div id="confettiContainer"></div>
    
    <!-- Appwrite SDK -->
    <script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5/dist/ethers.umd.min.js"></script>
    <script>
    // ---- CONFIGURATION ----
    const APPWRITE_ENDPOINT = 'https://fra.cloud.appwrite.io/v1';
    const APPWRITE_PROJECT = '6839d9640019316a160d';
    const APPWRITE_DB_ID = '6839dcca000190bf99f6';
    const APPWRITE_COLLECTION_ID = 'users';
    const SUPREMEAMER_RECEIVER_BNB = '0xYourBnbAddressHere'; // CHANGE TO YOURS

    const UPGRADE_FEES = {
        "0.05": "0.002",
        "0.1": "0.009"
    };
    const UPGRADE_SPEEDS = {
        "0.05": 0.05,
        "0.1": 0.1
    };
    const NORMAL_SPEED = 0.0002;
    const UPGRADE_DURATION = 360 * 24 * 3600;
    const CLAIM_INTERVAL = 30 * 24 * 3600;
    const WITHDRAW_ELIGIBILITY_FEE_BNB = "0.0017";
    const WITHDRAW_MIN_SA = 50000;
    const WITHDRAW_FEE_PERCENT = 6;
    const WITHDRAW_DAYS = [9, 13];

    // Appwrite
    const { Client, Account, Databases, Query } = Appwrite;
    const client = new Client().setEndpoint(APPWRITE_ENDPOINT).setProject(APPWRITE_PROJECT);
    const account = new Account(client);
    const databases = new Databases(client);

    // ---- Notification System ----
    function showNotification(message, type = 'info', duration = 3000) {
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        
        notificationText.textContent = message;
        notification.className = 'notification';
        
        // Add type class
        if (type === 'success') {
            notification.classList.add('success');
            notification.querySelector('i').className = 'fas fa-check-circle';
        } else if (type === 'error') {
            notification.classList.add('error');
            notification.querySelector('i').className = 'fas fa-exclamation-circle';
        } else {
            notification.querySelector('i').className = 'fas fa-info-circle';
        }
        
        // Show notification
        notification.classList.add('show');
        
        // Hide after duration
        setTimeout(() => {
            notification.classList.remove('show');
        }, duration);
    }

    // ---- Profile Dropdown ----
    document.getElementById('profileDropdownBtn').onclick = function(e) {
        e.stopPropagation();
        let menu = document.getElementById('profileDropdownMenu');
        menu.style.display = (menu.style.display === "block") ? "none" : "block";
    };
    document.addEventListener('click', function() {
        let menu = document.getElementById('profileDropdownMenu');
        if (menu.style.display === "block") menu.style.display = "none";
    });
    document.getElementById('profileDropdownMenu').onclick = function(e) { e.stopPropagation(); };
    document.getElementById('logoutBtn').onclick = async function(e) {
        e.preventDefault();
        try { 
            await account.deleteSession('current'); 
            showNotification("Logged out successfully", "success");
            setTimeout(() => {
                window.location.href = "login.html";
            }, 1000);
        } catch (err) {
            showNotification("Error logging out", "error");
        }
    };

    // ---- Theme Toggle inside Profile Dropdown ----
    document.getElementById('themeToggleBtn').onclick = function() {
        setTheme(!document.body.classList.contains('light'));
        // Update the theme toggle button text
        const themeToggleBtn = document.getElementById('themeToggleBtn');
        if (document.body.classList.contains('light')) {
            themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i><span>Dark Mode</span>';
        } else {
            themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i><span>Light Mode</span>';
        }
    };

    // ---- Settings Button ----
    document.getElementById('settingsBtn').onclick = function() {
        showNotification("Settings panel will be available soon", "info");
    };

    // ---- Help Button ----
    document.getElementById('helpBtn').onclick = function() {
        showNotification("Help & Support will be available soon", "info");
    };

    // ---- Support Button in Footer ----
    document.getElementById('supportBtn').onclick = function() {
        showNotification("Contact support at: support@supremeamer.com", "info");
    };

    async function displayUser() {
        try {
            const user = await account.get();
            const res = await databases.listDocuments(APPWRITE_DB_ID, APPWRITE_COLLECTION_ID, [Query.equal("userId", user.$id)]);
            if (res.documents.length > 0) {
                const profile = res.documents[0];
                document.getElementById('username').textContent = profile.name;
                document.getElementById('email').textContent = profile.email;
            }
        } catch (err) {
            console.error("Error fetching user:", err);
        }
    }
    displayUser();

    // ---- Light/Dark Toggle ----
    function setTheme(light) {
        if(light) {
            document.body.classList.add('light');
            localStorage.setItem('theme','light');
        } else {
            document.body.classList.remove('light');
            localStorage.setItem('theme','dark');
        }
    }
    // On load, restore theme
    if(localStorage.getItem('theme')==='light') setTheme(true);

    // ---- Confetti Effect ----
    function createConfetti() {
        const container = document.getElementById('confettiContainer');
        const colors = ['#ff6b00', '#ffa726', '#ff3d00', '#4CAF50', '#2196F3'];
        
        for (let i = 0; i < 100; i++) {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');
            
            // Random position
            confetti.style.left = `${Math.random() * 100}vw`;
            
            // Random size
            const size = Math.random() * 10 + 5;
            confetti.style.width = `${size}px`;
            confetti.style.height = `${size}px`;
            
            // Random shape
            if (Math.random() > 0.5) {
                confetti.style.borderRadius = '50%';
            } else {
                confetti.style.borderRadius = '0';
            }
            
            // Random color
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // Random animation duration
            const duration = Math.random() * 3 + 2;
            confetti.style.animationDuration = `${duration}s`;
            
            container.appendChild(confetti);
            
            // Remove after animation
            setTimeout(() => {
                confetti.remove();
            }, duration * 1000);
        }
    }

    // ---- Click Bonus ----
    document.getElementById('coinLogo').addEventListener('click', function(e) {
        const rect = this.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        // Create click bonus element
        const bonus = document.createElement('div');
        bonus.className = 'click-bonus';
        bonus.textContent = '+0.1 SA';
        bonus.style.left = `${x}px`;
        bonus.style.top = `${y}px`;
        
        document.getElementById('logoContainer').appendChild(bonus);
        
        // Add coins
        addMinedCoins(0.1);
        updateMinedCoinsDisplay();
        updateStats();
        
        // Remove element after animation
        setTimeout(() => {
            bonus.remove();
        }, 1000);
    });

    // ---- Copy Referral Code ----
    document.getElementById('copyReferralBtn').addEventListener('click', function() {
        const referralInput = document.getElementById('referralCode');
        referralInput.select();
        document.execCommand('copy');
        showNotification('Referral code copied to clipboard!', 'success');
    });

    // ---- Network Status ----
    function updateNetworkStatus() {
        const networkStatus = document.getElementById('networkStatus');
        if (window.ethereum && window.ethereum.isConnected()) {
            networkStatus.innerHTML = '<i class="fas fa-circle"></i><span>Network Connected</span>';
            networkStatus.classList.remove('offline');
        } else {
            networkStatus.innerHTML = '<i class="fas fa-circle"></i><span>Network Offline</span>';
            networkStatus.classList.add('offline');
        }
    }

    // ---- Leaderboard ----
    function populateLeaderboard() {
        const leaderboardList = document.getElementById('leaderboardList');
        const leaderboardData = [
            { rank: 1, user: "CryptoKing", value: "125,430 SA" },
            { rank: 2, user: "MiningMaster", value: "98,760 SA" },
            { rank: 3, user: "BlockchainPro", value: "87,540 SA" },
            { rank: 4, user: "SAEnthusiast", value: "76,320 SA" },
            { rank: 5, user: "CoinMiner", value: "65,100 SA" }
        ];
        
        leaderboardList.innerHTML = '';
        
        leaderboardData.forEach(item => {
            const leaderboardItem = document.createElement('div');
            leaderboardItem.className = 'leaderboard-item';
            leaderboardItem.innerHTML = `
                <div class="leaderboard-rank">${item.rank}</div>
                <div class="leaderboard-user">${item.user}</div>
                <div class="leaderboard-value">${item.value}</div>
            `;
            leaderboardList.appendChild(leaderboardItem);
        });
    }

    // ---- Daily Bonus ----
    function setupDailyBonus() {
        const dailyBonusDays = document.getElementById('dailyBonusDays');
        const bonusClaimBtn = document.getElementById('bonusClaimBtn');
        
        const days = [
            { day: 1, bonus: "100 SA", claimed: true },
            { day: 2, bonus: "200 SA", claimed: true },
            { day: 3, bonus: "300 SA", claimed: true },
            { day: 4, bonus: "500 SA", claimed: false },
            { day: 5, bonus: "800 SA", claimed: false },
            { day: 6, bonus: "1300 SA", claimed: false },
            { day: 7, bonus: "2100 SA", claimed: false }
        ];
        
        dailyBonusDays.innerHTML = '';
        
        days.forEach(dayInfo => {
            const bonusDay = document.createElement('div');
            bonusDay.className = `bonus-day ${dayInfo.claimed ? 'claimed' : ''} ${dayInfo.day === 4 ? 'active' : ''}`;
            bonusDay.innerHTML = `
                <div class="bonus-day-circle">${dayInfo.day}</div>
                <div class="bonus-day-label">${dayInfo.bonus}</div>
            `;
            dailyBonusDays.appendChild(bonusDay);
        });
        
        // Enable claim button for active day
        bonusClaimBtn.disabled = false;
        bonusClaimBtn.textContent = "Claim 500 SA Bonus";
        
        bonusClaimBtn.addEventListener('click', function() {
            addMinedCoins(500);
            updateMinedCoinsDisplay();
            updateStats();
            showNotification("Daily bonus claimed: 500 SA!", "success");
            bonusClaimBtn.disabled = true;
            bonusClaimBtn.textContent = "Bonus Claimed";
            
            // Update the active day to claimed
            const activeDay = document.querySelector('.bonus-day.active');
            if (activeDay) {
                activeDay.classList.remove('active');
                activeDay.classList.add('claimed');
            }
        });
    }

    // ---- Mining State ----
    let minedCoins = parseFloat(localStorage.getItem('minedCoins')||'0');
    let miningActive = false;
    let miningSpeed = NORMAL_SPEED;
    let miningUpgrade = JSON.parse(localStorage.getItem('miningUpgrade') || 'null');
    let miningUpgradeStart = miningUpgrade?.startTime||0;
    let miningUpgradeSpeed = miningUpgrade?.upgradeSpeed||0;
    let miningUpgradeLastClaim = miningUpgrade?.lastClaim||0;
    let miningTimerInterval = null;
    let sessionEarnings = 0;
    let totalMined = parseFloat(localStorage.getItem('totalMined')||'0');
    let miningTime = 0;

    function getCurrentSpeed() {
        if (isUpgradeActive()) return miningUpgrade.upgradeSpeed;
        return NORMAL_SPEED;
    }
    function getUpgradeTimeLeft() {
        if (!isUpgradeActive()) return 0;
        return Math.max((miningUpgrade.startTime+UPGRADE_DURATION)-Math.floor(Date.now()/1000),0);
    }
    function getNextClaimTime() {
        if (!isUpgradeActive()) return 0;
        return miningUpgrade.lastClaim+CLAIM_INTERVAL;
    }
    function canClaim() {
        return isUpgradeActive() && Math.floor(Date.now()/1000)>=getNextClaimTime();
    }
    function isUpgradeActive() {
        return miningUpgrade && miningUpgrade.startTime && miningUpgrade.upgradeSpeed && Date.now()/1000 < miningUpgrade.startTime+UPGRADE_DURATION;
    }
    function setMiningUpgrade(speed, bnbFee) {
        miningUpgrade = {
            upgradeSpeed: speed,
            bnbFee: bnbFee,
            startTime: Math.floor(Date.now()/1000),
            lastClaim: Math.floor(Date.now()/1000)
        };
        localStorage.setItem('miningUpgrade', JSON.stringify(miningUpgrade));
        updateStats();
        showNotification(`Mining speed upgraded to ${speed} SA/sec!`, "success");
        
        // Unlock achievement if this is the first upgrade
        const achievement = document.getElementById('achievement3');
        if (achievement.classList.contains('locked')) {
            achievement.classList.remove('locked');
            showNotification('Achievement Unlocked: Upgrade Master!', 'success');
        }
    }
    function endUpgrade() {
        miningUpgrade = null;
        localStorage.removeItem('miningUpgrade');
        showNotification("Your mining upgrade has expired", "info");
    }
    function addMinedCoins(amount) {
        minedCoins += amount;
        sessionEarnings += amount;
        totalMined += amount;
        localStorage.setItem('minedCoins', minedCoins);
        localStorage.setItem('totalMined', totalMined);
        
        // Update achievements
        updateAchievements();
    }
    function updateMinedCoinsDisplay() {
        document.getElementById('minedCoins').textContent = `${minedCoins.toFixed(4)} SA`;
        
        // Add animation when coins increase
        const coinsElement = document.getElementById('minedCoins');
        coinsElement.classList.add('bounce');
        setTimeout(() => {
            coinsElement.classList.remove('bounce');
        }, 1000);
    }
    function updateStats() {
        document.getElementById('miningSpeed').textContent = getCurrentSpeed().toFixed(4);
        document.getElementById('sessionEarnings').textContent = sessionEarnings.toFixed(4);
        document.getElementById('totalMined').textContent = totalMined.toFixed(4);
        
        // Format mining time
        const hours = Math.floor(miningTime / 3600);
        const minutes = Math.floor((miningTime % 3600) / 60);
        document.getElementById('miningTime').textContent = `${hours}:${minutes.toString().padStart(2, '0')}`;
    }
    function updateProgressBar() {
        const progressBar = document.getElementById('miningProgress');
        if (isUpgradeActive()) {
            const timeLeft = getUpgradeTimeLeft();
            const progress = 100 - (timeLeft / UPGRADE_DURATION * 100);
            progressBar.style.width = `${progress}%`;
        } else {
            const sessionElapsed = parseInt(localStorage.getItem('miningSessionElapsed')||'0');
            const progress = (sessionElapsed / (7*3600)) * 100;
            progressBar.style.width = `${progress}%`;
        }
    }
    function updateTimerDisplay() {
        if (isUpgradeActive()) {
            let timeLeft = getUpgradeTimeLeft();
            document.getElementById('timer').textContent = timeLeft>0?formatTime(timeLeft):"00:00:00";
        } else {
            let remaining = 7*3600-(parseInt(localStorage.getItem('miningSessionElapsed')||'0'));
            if(remaining<0) remaining=0;
            document.getElementById('timer').textContent = formatTime(remaining);
        }
    }
    function formatTime(sec) {
        const d = Math.floor(sec/86400);
        const h = Math.floor((sec%86400) / 3600);
        const m = Math.floor((sec % 3600) / 60);
        const s = sec % 60;
        return d > 0
          ? `${d}d ${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`
          : `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    }
    function updateUpgradeInfo() {
        const claimStatus = document.getElementById('claimStatus');
        if(isUpgradeActive()){
            let nextClaim = getNextClaimTime();
            let canClaimNow = canClaim();
            claimStatus.innerHTML = `Upgrade: <b>${miningUpgrade.upgradeSpeed} SA/sec</b>, ${formatTime(getUpgradeTimeLeft())} left<br>
            Next claim: <b>${new Date(nextClaim*1000).toLocaleDateString()}</b> ${canClaimNow?'<span style="color:#00ffb3;">Ready!</span>':''}`;
        } else {
            claimStatus.innerHTML = "";
        }
    }
    
    // ---- Achievements ----
    function updateAchievements() {
        // Update SA Collector achievement
        const saCollectorProgress = Math.min((minedCoins / 10000) * 100, 100);
        document.querySelector('#achievement2 .achievement-progress-bar').style.width = `${saCollectorProgress}%`;
        
        if (minedCoins >= 10000 && document.getElementById('achievement2').classList.contains('locked')) {
            document.getElementById('achievement2').classList.remove('locked');
            showNotification('Achievement Unlocked: SA Collector!', 'success');
        }
    }

    // ---- Upgrade Modal ----
    function showUpgradeModal() {
        document.getElementById('upgradeModal').style.display = 'flex';
    }
    function hideUpgradeModal() {
        document.getElementById('upgradeModal').style.display = 'none';
    }
    document.getElementById('showUpgradeBtn').onclick = showUpgradeModal;
    window.upgradeMining = async function(speedKey){
        hideUpgradeModal();
        if(isUpgradeActive()){ 
            showNotification("You already have an active upgrade!", "error");
            return; 
        }
        if(!window.ethereum) {
            showNotification("Please connect a BNB wallet first", "error");
            return;
        }
        
        try {
            const provider = new ethers.providers.Web3Provider(window.ethereum);
            const signer = provider.getSigner();
            const userAddr = await signer.getAddress();
            
            // Show confirmation with more details
            const confirmed = confirm(`Upgrade mining speed to ${UPGRADE_SPEEDS[speedKey]} SA/sec for 360 days?\n\nCost: ${UPGRADE_FEES[speedKey]} BNB\n\nWallet: ${userAddr.substring(0,6)}...${userAddr.substring(38)}`);
            if(!confirmed) return;
            
            showNotification("Processing upgrade transaction...", "info");
            
            const tx = await signer.sendTransaction({
                to: SUPREMEAMER_RECEIVER_BNB,
                value: ethers.utils.parseEther(UPGRADE_FEES[speedKey])
            });
            
            showNotification("Transaction sent! Waiting for confirmation...", "info");
            await tx.wait();
            
            setMiningUpgrade(UPGRADE_SPEEDS[speedKey], UPGRADE_FEES[speedKey]);
            updateUpgradeInfo();
            updateMinedCoinsDisplay();
            createConfetti();
            
            showNotification("Upgrade successful! Mining speed increased.", "success");
        } catch (e) {
            console.error("Upgrade error:", e);
            showNotification("Upgrade cancelled or failed", "error");
        }
    };

    // ---- Mining Logic ----
    document.getElementById('mineBtn').onclick = function() {
        if (miningActive) { return; }
        miningActive = true;
        let sessionStart = Date.now();
        let sessionElapsed = parseInt(localStorage.getItem('miningSessionElapsed')||'0');
        
        // Start mining animation
        document.getElementById('mineBtn').innerHTML = '<i class="fas fa-cog fa-spin" style="margin-right: 8px;"></i> Mining...';
        
        let sessionInterval = setInterval(function(){
            let speed = getCurrentSpeed();
            addMinedCoins(speed);
            miningTime++;
            updateMinedCoinsDisplay();
            updateStats();
            updateProgressBar();

            if(!isUpgradeActive()){
                let elapsed = Math.floor((Date.now()-sessionStart)/1000)+sessionElapsed;
                if(elapsed>=7*3600){
                    miningActive = false;
                    clearInterval(sessionInterval);
                    localStorage.setItem('miningSessionElapsed','0');
                    document.getElementById('mineBtn').disabled = false;
                    document.getElementById('mineBtn').innerHTML = '<i class="fas fa-hammer" style="margin-right: 8px;"></i><span id="mineBtnText">Start Mining</span>';
                    updateTimerDisplay();
                    showNotification("Mining session completed! Start again to continue.", "info");
                    return;
                }
                localStorage.setItem('miningSessionElapsed',elapsed);
                document.getElementById('timer').textContent = formatTime(7*3600-elapsed);
            } else {
                document.getElementById('timer').textContent = formatTime(getUpgradeTimeLeft());
            }
        }, 1000);
        
        document.getElementById('mineBtn').disabled = true;
    };

    // ---- Withdraw Logic ----
    document.getElementById('withdrawBtn').onclick = async function() {
        const status = document.getElementById('withdrawStatus');
        status.textContent = "";
        const today = new Date();
        
        // Check withdrawal day
        if (!WITHDRAW_DAYS.includes(today.getDate())) {
            status.textContent = `Withdrawals only on ${WITHDRAW_DAYS.join('th and ')}th each month!`;
            status.classList.add('error-message');
            return;
        }
        
        // Check minimum balance
        if (minedCoins < WITHDRAW_MIN_SA) {
            status.textContent = `Need at least ${WITHDRAW_MIN_SA} SA to withdraw.`;
            status.classList.add('error-message');
            return;
        }
        
        // Check wallet connection
        if(!window.ethereum) {
            status.textContent = "Please connect a BNB wallet first.";
            status.classList.add('error-message');
            return;
        }
        
        // Get connected wallet address
        let provider = new ethers.providers.Web3Provider(window.ethereum);
        const signer = provider.getSigner();
        const userAddr = await signer.getAddress();
        
        // Eligibility fee
        if (localStorage.getItem('withdrawEligible')!=='true') {
            const confirmed = confirm(`To withdraw, you need to pay a one-time eligibility fee of ${WITHDRAW_ELIGIBILITY_FEE_BNB} BNB.\n\nThis fee helps prevent abuse of the system.\n\nWallet: ${userAddr.substring(0,6)}...${userAddr.substring(38)}`);
            if (!confirmed) {
                status.textContent = "Withdrawal cancelled";
                status.classList.add('error-message');
                return;
            }
            
            try {
                showNotification("Processing eligibility fee payment...", "info");
                const tx = await signer.sendTransaction({
                    to: SUPREMEAMER_RECEIVER_BNB,
                    value: ethers.utils.parseEther(WITHDRAW_ELIGIBILITY_FEE_BNB)
                });
                
                showNotification("Transaction sent! Waiting for confirmation...", "info");
                await tx.wait();
                
                localStorage.setItem('withdrawEligible','true');
                showNotification("Eligibility fee paid successfully!", "success");
            } catch(e) {
                status.textContent = "Fee payment failed. Please try again.";
                status.classList.add('error-message');
                showNotification("Fee payment failed", "error");
                return;
            }
        }
        
        // Confirm withdrawal
        const withdrawAmount = minedCoins;
        const feeAmount = withdrawAmount * (WITHDRAW_FEE_PERCENT/100);
        const sendAmount = withdrawAmount - feeAmount;
        
        const confirmed = confirm(`Confirm withdrawal of ${withdrawAmount.toFixed(2)} SA?\n\nYou will receive: ${sendAmount.toFixed(2)} SA (${WITHDRAW_FEE_PERCENT}% fee)\n\nWallet: ${userAddr.substring(0,6)}...${userAddr.substring(38)}`);
        if (!confirmed) {
            status.textContent = "Withdrawal cancelled";
            status.classList.add('error-message');
            return;
        }
        
        status.textContent = "Processing withdrawal...";
        status.classList.remove('error-message');
        showNotification("Processing withdrawal transaction...", "info");
        
        // Simulate withdrawal processing
        setTimeout(() => {
            minedCoins = 0;
            sessionEarnings = 0;
            localStorage.setItem('minedCoins', minedCoins);
            updateMinedCoinsDisplay();
            updateStats();
            status.textContent = "";
            
            createConfetti();
            showNotification(`Withdrawal successful! ${sendAmount.toFixed(2)} SA sent to your wallet.`, "success");
            
            alert(`Withdrawal completed!\n\nSent: ${sendAmount.toFixed(2)} SA to ${userAddr}\nFee: ${feeAmount.toFixed(2)} SA (${WITHDRAW_FEE_PERCENT}%)\n\nThank you for using SupremeAmer Coin!`);
        }, 3000);
    };

    // --- Claim logic (click timer to claim if ready) ---
    document.getElementById('timer').onclick = function() {
        if(isUpgradeActive() && canClaim()) {
            // Calculate claimable
            const now = Math.floor(Date.now()/1000);
            let seconds = now - miningUpgrade.lastClaim;
            let claimAmount = seconds * miningUpgrade.upgradeSpeed;
            
            addMinedCoins(claimAmount);
            miningUpgrade.lastClaim = now;
            localStorage.setItem('miningUpgrade', JSON.stringify(miningUpgrade));
            
            updateMinedCoinsDisplay();
            updateUpgradeInfo();
            updateStats();
            
            createConfetti();
            showNotification(`You claimed ${claimAmount.toFixed(4)} SA!`, "success");
        } else if (isUpgradeActive()) {
            const nextClaim = getNextClaimTime();
            const now = Math.floor(Date.now()/1000);
            const timeLeft = nextClaim - now;
            
            showNotification(`Next claim available in ${formatTime(timeLeft)}`, "info");
        }
    };

    // --- On load ---
    window.onload = function() {
        updateMinedCoinsDisplay();
        updateTimerDisplay();
        updateUpgradeInfo();
        updateProgressBar();
        updateStats();
        updateNetworkStatus();
        updateAchievements();
        populateLeaderboard();
        setupDailyBonus();
        document.getElementById('mineBtn').disabled = false;
        
        // Check if upgrade expired
        if (isUpgradeActive() && getUpgradeTimeLeft() <= 0) {
            endUpgrade();
        }
        
        // Show welcome message
        setTimeout(() => {
            showNotification("Welcome to SupremeAmer Coin Mining!", "info");
        }, 1000);
    };
    </script>
</body>
</html>